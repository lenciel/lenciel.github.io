<!DOCTYPE html> <!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]--> <!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]--> <!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]--> <head> <meta charset="utf-8"> <title>@Lenciel</title> <meta name="author" content="Lenciel"> <meta name="description" content=" Blog with Octopress and Github pages 2013-03-10 22:15:00 ..."> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="canonical" href="http://lenciel.com/posts/68/"> <link href="/favicon.png" rel="icon"> <script src="/assets/javascripts/app.js"></script> <link href="http://feeds.feedburner.com/github/lenciel" rel="alternate" title="@Lenciel" type="application/atom+xml"> <meta property="og:type" content="article"/> <meta property="og:url" content="http://lenciel.com/posts/68/"/> <meta property="og:description" content=" Blog with Octopress and Github pages 2013-03-10 22:15:00 ..."/> <meta property="og:site_name" content="http://lenciel.com"/> <meta property="article:author" content="http://lenciel.com"> <meta itemprop="description" content=" Blog with Octopress and Github pages 2013-03-10 22:15:00 ..."/> <script>
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "//hm.baidu.com/hm.js?42345b94bf173b38bef61f873677adfa";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script> <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','http://lenciel.qiniudn.com/analytics.js','ga');

  ga('create', 'UA-175991-6', 'auto');
  ga('send', 'pageview');

</script> </head> <body class="collapse-sidebar sidebar-footer"> <header role="banner"><hgroup> <h1><a href="/">@Lenciel</a></h1> </hgroup> </header> <nav role="navigation"><ul class="subscription" data-subscription="rss"> <li><a href="http://feeds.feedburner.com/github/lenciel" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li> </ul> <ul class="main-navigation"> <li><a href="/"><i class="icon-home"></i>Home</a></li> <li><a href="/archives"><i class="icon-book-alt"></i>Archives</a><span class="divider"></span></li> <li><a href="/about"><i class="icon-user"></i>About</a><span class="divider"></span></li> </ul> </nav> <div id="main"> <div id="content"> <div class="blog-index"> <article> <header> <h1 class="entry-title"><a href="/2013/03/blog-with-octopress-and-github-pages/">Blog with Octopress and Github pages</a></h1> <p class="meta"> <time class='entry-date' datetime='2013-03-10 22:15:00 +0800'> <span class='date'>2013-03-10</span> <span class='time'>22:15:00</span> </time> </p> </header> <div class="entry-content"><p>不知不觉，写blog好像从有电脑的人都要干的事情变成很小众的活动了。除了人到了一定年纪都会不愿意开口讲话之外，本座觉得还有个很大的原因就是：要找一个靠谱的blog服务商是非常麻烦的。岂止是是blog服务商，在天朝使用大多数web服务都很吊诡地只有两个选择：</p> <ul> <li>没有被墙但很糟的；</li> <li>很不错但被墙了的；</li> </ul> <p>所以虽然知道<a href="http://github.com">Github</a>可以免费host任何静态页面很久了，眼看着<a href="http://octopress.org/">Octopress</a>也日益成熟，但一直都下定决心去试：谁知道哪天Github又被墙了呢？</p> <p>不过，在最近自己的职业生涯发生了不小的变化，在可预见的未来，肯定要做很多跟code有关的笔记。<a href="http://lenciel.com">现在的blog</a>系统是wordpress，虽然非常好用，但是比起markdown来说，写起code来速度就差太多了。所以今天下定决心试了一把Octopress+Github Pages，效果非常满意，特别记录一下过程，像大家做个推荐。</p> <a name="Jekyll.amp.Octopress"></a> <h2>Jekyll&amp;Octopress</h2> <p><a href="http://octopress.org/">Octopress</a>是在<a href="https://github.com/mojombo/jekyll">Jekyll</a>基础上进行的开发。<a href="https://github.com/mojombo/jekyll">Jekyll</a>作为Ruby开发的静态页面blog系统，吸引本座的地方在于：</p> <ul> <li><strong>静态页面</strong>：由于Jekyll生成的都是静态页面，意味着这些页面可以在任何地方被host，比如Github Pages，Google Drive甚至是Dropbox都可以作为选择（当然它们也基本是被墙的）。</li> <li><strong>Markdown</strong>：Jekyll的日志因为是用Markdown写的，相比传统的Blog系统如Wordpress而言，一方面在写的时候可以用你顺手的编辑器，另一方面储存和版本管理也方便得多。</li> <li><strong>代码插入方便美观</strong>：Octopress对日志中嵌入代码提供了<a href="http://octopress.org/docs/blogging/code/">各种方便</a>。</li> </ul> <a name="Mac........................"></a> <h2>Mac下的安装设置过程</h2> <a name="Xcode"></a> <h3>Xcode</h3> <ul> <li>升级Xcode</li> <li>启动Xcode，在Preferences里面选择下载</li> <li>安装"Command Line Tools"</li> </ul> <a name="Homebrew"></a> <h3>Homebrew</h3> <pre><code class="bash">brew update
brew outdated|xargs brew install
brew tap homebrew/dupes
brew install apple-gcc42 git
brew upgrade
</code></pre> <a name="rbenv"></a> <h3>rbenv</h3> <p>首先如果你本来是用rvm，需要删除：</p> <pre><code class="ruby">rvm implode
</code></pre> <p>然后安装rbenv以及Ruby1.9.3-p194:</p> <pre><code class="bash">brew install rbenv
brew install ruby-build
eval "$(rbenv init -)"
rbenv install 1.9.3-p194
rbenv global 1.9.3-p194
</code></pre> <p>安装完毕之后需要在你的环境变量中做一些设置，比如本座用的是oh-my-zsh，就需要在<code>~/.zshrc</code>里面加上：</p> <pre><code class="bash">export PATH="$HOME/.rbenv/bin:$PATH"
eval "$(rbenv init -)"
# required for https://github.com/imathis/octopress/issues/144
export LC_CTYPE=en_US.UTF-8
export LANG=en_US.UTF-8
</code></pre> <p>注意在环境变量设置完毕之后，最好把<code>$PATH</code>打出来看看，确保没有其他版本的Ruby被启用了，特别要注意<code>/Users/***/.gem/ruby/***/bin</code>这样的路径。</p> <a name="L......Octopress"></a> <h2>安装Octopress</h2> <p>首选在Github上创建一个repo来放blog，命名规则是username.github.com（比如本座的就是lenciel.github.com）。</p> <p>然后在本地建立一个repo把octopress弄下来：</p> <pre><code class="bash">git clone git://github.com/imathis/octopress.git lenciel.github.com
cd lenciel.github.com
ruby --version # should read ruby 1.9.3p194 (2012-04-20 revision 35410) [x86_64-darwin12.2.0]
gem install bundler
rbenv rehash
</code></pre> <p>然后部署到刚才申请的repo上面去。虽然<a href="http://pages.github.com/">Github Pages</a>自己有个废柴说明页面，但是看完之后一般你是不知道如何算是部署成功的。好在Octopress已经内建了交互式的配置和部署的命令：</p> <pre><code class="ruby">rake setup_github_pages
# Example repo url: git@github.com:lenciel/lenciel.github.com
rake install
rake generate &amp;&amp; rake deploy
</code></pre> <p>然后你需要调整一下<code>.git/config</code>文件把自己的项目设置成新的origin：</p> <pre><code>[core]
  repositoryformatversion = 0
  filemode = true
  bare = false
  logallrefupdates = true
  ignorecase = true
[remote "origin"]
  fetch = +refs/heads/*:refs/remotes/origin/*
  url = git@github.com:lenciel/lenciel.github.com
[remote "octopress"]
  url = git://github.com/imathis/octopress.git
  fetch = +refs/heads/*:refs/remotes/octopress/*
[branch "master"]
  remote = origin
  merge = refs/heads/master
</code></pre> <p>这样一来，你就即可以从<code>octopress/master</code>取到更新，又可以往<code>origin/master</code>去push自己最新的日志了。</p> <a name="L......Octopress"></a> <h2>使用Octopress</h2> <a name="L............"></a> <h3>新建文章</h3> <pre><code class="">rake new_post\["Blog with Octopress and Github Pages"\]
</code></pre> <p>这里要注意使用zsh的时候，对<code>[]</code>要转义成<code>\[\]</code>不然会报错。</p> <a name="L............"></a> <h3>编辑文章</h3> <pre><code>subl source/_posts/2013-03-10-blog-with-octopress-and-github-pages.markdown
</code></pre> <p>subl是本座在mac上使用的编辑器<code>Sublime Text 2</code>的命令行命令，它的markdown插件<code>Markdown Editing</code>和<code>OmniMarkupPreview</code>非常好用。</p> <a name="Markdown.Editing"></a> <h4>Markdown Editing</h4> <p><a href="http://ttscoff.github.com/MarkdownEditing/">Markdown Editing</a>对语法高亮，粘贴超链接，样式化，加footnote等都做了很好的支持：</p> <p><img src="/downloads/images/sublime_with_markdown_editing.png" title="Don't touch me..." alt="Sublime with Markdown Editing"/></p> <a name="OmniMarkupPreview"></a> <h4>OmniMarkupPreview</h4> <p>OmniMarkupPreview支持<code>Cmd+Alt+O</code>在你指定的浏览器里面预览并且动态刷新你正在编辑的Markup文档。这样你就可以不用不停的<code>rake preview</code>了。</p> <a name="L......"></a> <h3>更多</h3> <ul> <li><a href="http://octopress.org/docs/">Octopress官方文档</a></li> <li><a href="http://daringfireball.net/projects/markdown/">Markdown语法ref</a></li> <li><a href="https://github.com/imathis/octopress/issues/701#issuecomment-7664070">如何使用repo里面的图片</a></li> </ul> </div> </article> <article> <header> <h1 class="entry-title"><a href="/2013/02/science-is-not-that-easy/">走进科学</a></h1> <p class="meta"> <time class='entry-date' datetime='2013-02-01 23:40:00 +0800'> <span class='date'>2013-02-01</span> <span class='time'>23:40:00</span> </time> </p> </header> <div class="entry-content"><p><img src="/downloads/images/black_and_white.jpg" title="Don't touch me…" alt="Black and White"/></p> <p>最近波音787曝出锂电池起火燃烧的<a href="http://finance.sina.com.cn/world/mzjj/20130130/140414451075.shtml">问题</a>。全世界人民，特别是中国人民纷纷摇头叹息：以精密和严谨著称的日本人，现在终归是堕落了。奇怪的是，如果你想稍微深入一点儿去搜索日本制造的锂电池究竟出了什么问题，答案就欠奉了。于是本座花了点儿时间试图去把这事情弄明白。</p> <p>人类对锂电池最初的开发是在上世纪六十年代。由于在金属中，锂元素有着最小的密度和最大的电负性，故而具有最高的比能量。但由于锂的活性非常强，所以一直都有严重的安全问题没法投产。</p> <p>80年代开始出现了所谓的“摇椅式锂电池”。其正极为不同类型的含锂化合物，负极则由石墨一类的物质形成层状结构，Li+可填充于其中。在充电时，阴极部分的锂离子离开含锂化合物，透过电解液中的隔膜向阳极移动，并嵌入到阳极的层状结构中；反之在放电时，锂离子在负极脱离，移向正极并结合于正极的化合物之中。与传统锂电池不同的是，被氧化还原的物质不再是Li和Li+，锂离子只是伴随着两极材料本身发生放电而产生的氧化态的变化而反复脱嵌与嵌入，往返于两极之间，故称为“摇椅式”。</p> <p>这种锂电池要求选用的电解液必须不和锂盐发生反应，并且在相当宽的温度范围内保持液态，所以合适的选择非常少。一开始，普遍使用的是碳酸丙烯酯。不过这种溶剂有很大的缺陷：它会渗透石墨烯，使得电池效率低下，安全性也随之降低。</p> <p>到了90年代初，Sony的研究人员发现使用碳酸乙烯酯，问题解决了：反应中生成的粘稠的物质正好可以阻碍溶剂本身的分子渗透到石墨烯，同时又不会阻碍锂电子穿透进入石墨烯。于是锂电池正式投入大规模商用。</p> <p>不过，虽然好死不死的商用了20来年，至今都没人搞明白那粘稠的物质究竟是啥，而从碳酸丙烯酯到碳酸乙烯酯这微小的结构变化为何带来这么巨大的差异。很多论文发表了，很多理论被提出了，有志于此的公司投入了大量人力财力，但似乎，用句四川话来说，“还没有摸到火门”。</p> <p>本座常常听人说我们处在一个知识大爆炸的年代。但实际上，我们仅仅是处在一个获取知识很容易的时代而已（感谢Google和其他开放的Web service）。在书店里面就可以买到华丽的《时间简史》，打开电脑可以看BBT这种动不动就要来段术语或者方程式的剧，让我们感觉好像过得很”科学“，有时候就会有一种自己很聪明的幻觉。</p> <p>于是可能我们看到787的新闻时也就会觉得，这帮日本人啊，电池都造不好。写下这篇blog，希望自己记住今天的这份感觉：全世界用来发这条新闻，看这条新闻，尽情评论的人，其实也不知道自己用的笔记本里面锂电池是怎么工作的。这不是什么弦理论，不是地球形成之初的疑问，不需要什么超强的抽象思维能力和高智商。每个人都可以打开电池开始研究，但就是没人知道。</p> <p>因为科学其实是很枯燥又很寂寞的事情啊。</p> </div> </article> <div class="pagination"> <a class="prev" href="/posts/69">&larr; Older</a> <a href="/archives">Archives</a> <a class="next" href="/posts/67">Newer &rarr;</a> </div> </div> </div> </div> <footer role="contentinfo"><p> Blog theme: <a href="https://github.com/lenciel/jekyll-lenciel-theme">jekyll-lenciel-theme</a> <span class="theme-version">Copyright &copy; 2004-2017 by <a href="mailto:lenciel@gmail.com">Lenciel</a></span> <section class="contruction-wrap"> <div class="contruction"></div> </section> </p> </footer> <script type="text/javascript">
  var stylesheet = document.createElement('link');
  stylesheet.href = '/assets/stylesheets/app.css';
  stylesheet.rel = 'stylesheet';
  stylesheet.type = 'text/css';
  document.getElementsByTagName('head')[0].appendChild(stylesheet);
</script> </body> </html>